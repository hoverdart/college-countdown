"use client";
const collegeDecisions = [['Mercer University', 'EA', '2024-11-14T17:00:00', '', 'EST'], ['Furman University', 'ED', '2024-11-15T00:00:00', '', ''], ['University of Central Florida (UCF)', 'EA', '2024-11-15T18:00:00', '', 'EST'], ['Trinity University', 'ED', '2024-11-22T00:00:00', '', ''], ['University of Georgia (UGA)', 'EA', '2024-11-22T16:00:00', 'In state students only', 'EST'], ['Villanova University', 'ED', '2024-11-25T00:00:00', '', ''], ['Loyola Marymount University (LMU)', 'ED', '2024-11-25T21:00:00', '', 'EST'], ['QuestBridge Match Day', 'QB Match', '2024-12-02T00:00:00', '', ''], ['University of Vermont (UVM)', 'ED', '2024-12-02T00:00:00', '', ''], ['Providence College', 'ED', '2024-12-03T00:00:00', 'In the evening', ''], ['Boston College', 'ED', '2024-12-03T18:00:00', 'Approx. time', 'EST'], ['Tulane University', 'ED', '2024-12-03T19:00:00', '', 'EST'], ['University of Tennessee Knoxville (UTK)', 'EA', '2024-12-04T00:00:00', 'In state only, evening of', ''], ['Southern Methodist University (SMU)', 'ED', '2024-12-05T00:00:00', '', ''], ['Quinnipiac University (QU)', 'EA', '2024-12-05T00:00:00', 'Round 1/3', ''], ['Fairfield University', 'ED', '2024-12-05T18:00:00', '', 'EST'], ['University of Georgia (UGA)', 'EA', '2024-12-06T16:00:00', 'Out of state students only', 'EST'], ['Texas Christian University (TCU)', 'ED', '2024-12-06T18:15:00', 'May release earlier in the day', 'EST'], ['Georgia Tech', 'EA', '2024-12-06T19:00:00', 'Georgia students only', 'EST'], ['Middlebury College', 'ED', '2024-12-07T08:00:00', '', 'EST'], ['Wellesley College', 'ED', '2024-12-07T10:00:00', '', 'EST'], ['Case Western Reserve University (CWRU)', 'ED', '2024-12-07T12:00:00', '', 'EST'], ['Macalester College', 'ED', '2024-12-08T00:00:00', '', ''], ['University of South Florida (USF)', 'Priority', '2024-12-10T00:00:00', '', ''], ['William & Mary', 'ED', '2024-12-10T17:00:00', '', 'EST'], ['Santa Clara University (SCU)', 'EA', '2024-12-11T00:00:00', '', ''], ['Florida International University (FIU)', 'EA', '2024-12-11T00:00:00', 'In state students only', ''], ['Rose-Hulman', 'EA', '2024-12-11T15:30:00', 'Approx. time', 'EST'], ['Colorado College', 'ED', '2024-12-11T18:00:00', '', 'EST'], ['Emory University', 'ED', '2024-12-11T18:00:00', '', 'EST'], ['Northeastern University (NEU)', 'ED', '2024-12-11T19:00:00', '', 'EST'], ['Brandeis University', 'ED', '2024-12-12T00:00:00', '', ''], ['Suffolk University', 'EA', '2024-12-12T00:00:00', '', ''], ['American University', 'ED', '2024-12-12T00:00:00', 'In the afternoon (Eastern Time)', ''], ['Drexel University', 'ED', '2024-12-12T00:00:00', 'In the evening', ''], ['Quinnipiac University (QU)', 'EA', '2024-12-12T00:00:00', 'Round 2/3', ''], ['Florida State University (FSU)', 'EA', '2024-12-12T00:00:00', '', ''], ['Washington University in St. Louis (WashU)', 'ED', '2024-12-12T00:00:00', 'In the evening (Central Time)', ''], ['New York University (NYU)', 'ED', '2024-12-12T16:00:00', '', 'EST'], ['Boston University', 'ED', '2024-12-12T17:00:00', 'Approx. time', 'EST'], ['Rhode Island School of Design (RISD)', 'ED', '2024-12-12T18:00:00', '', 'EST'], ['Clemson University', 'EA', '2024-12-12T18:00:00', '', 'EST'], ['University of San Francisco (USFCA)', 'EA', '2024-12-12T19:00:00', '', 'EST'], ['Princeton University', 'REA/SCEA', '2024-12-12T19:00:00', '', 'EST'], ['Harvard University', 'REA/SCEA', '2024-12-12T19:00:00', '', 'EST'], ['Cornell University', 'ED', '2024-12-12T19:00:00', '', 'EST'], ['Carleton College', 'ED', '2024-12-12T20:00:00', '', 'EST'], ['Hamilton College', 'ED', '2024-12-12T20:00:00', 'By this date', 'EST'], ['Caltech', 'REA/SCEA', '2024-12-12T20:48:00', '', 'EST'], ['Harvey Mudd College', 'ED', '2024-12-12T21:00:00', '', 'EST'], ['Loyola Marymount University (LMU)', 'EA', '2024-12-13T00:00:00', '', ''], ['Scripps College', 'ED', '2024-12-13T00:00:00', '', ''], ['Fordham University', 'EA', '2024-12-13T00:00:00', '', ''], ['Pitzer College', 'ED', '2024-12-13T00:00:00', '', ''], ['University of Rochester', 'ED', '2024-12-13T00:00:00', 'In the evening (Eastern Time)', ''], ['Clark University', 'ED', '2024-12-13T00:00:00', '', ''], ['Trinity University', 'EA', '2024-12-13T00:00:00', '', ''], ['Lehigh University', 'ED', '2024-12-13T00:00:00', '', ''], ['Colby College', 'ED', '2024-12-13T00:00:00', '', ''], ['College of the Holy Cross', 'ED', '2024-12-13T00:00:00', '', ''], ['Pomona College', 'ED', '2024-12-13T00:00:00', '', ''], ['Colgate University', 'ED', '2024-12-13T00:00:00', '', ''], ['Williams College', 'ED', '2024-12-13T00:00:00', 'In the evening (Eastern Time)', ''], ['University of Miami (UMiami)', 'ED', '2024-12-13T00:00:00', '', ''], ['Ohio State University (OSU)', 'EA', '2024-12-13T00:00:00', 'Ohio residents and Stamps Eminence applicants only', ''], ['Dartmouth College', 'ED', '2024-12-13T15:00:00', '', 'EST'], ['Smith College', 'ED', '2024-12-13T15:00:00', '', 'EST'], ['Brown University', 'ED', '2024-12-13T15:00:00', '', 'EST'], ['Johns Hopkins University (JHU)', 'ED', '2024-12-13T15:00:00', '', 'EST'], ['Bryn Mawr College', 'ED', '2024-12-13T16:00:00', '', 'EST'], ['Carnegie Mellon University (CMU)', 'ED', '2024-12-13T16:00:00', 'Until December 15th', 'EST'], ['Worcester Polytechnic Institute (WPI)', 'ED', '2024-12-13T17:00:00', '', 'EST'], ['University of Virginia (UVA)', 'ED', '2024-12-13T17:00:00', 'By this date', 'EST'], ['Georgetown University', 'EA', '2024-12-13T17:50:00', 'Appox. time', 'EST'], ['Chapman University', 'ED EA', '2024-12-13T18:00:00', '', 'EST'], ['Miami University', 'EA', '2024-12-13T18:00:00', '', 'EST'], ['Amherst College', 'ED', '2024-12-13T18:21:00', '', 'EST'], ['Occidental College', 'ED', '2024-12-13T19:00:00', '', 'EST'], ['University of Richmond', 'ED', '2024-12-13T19:00:00', '', 'EST'], ['Haverford College', 'ED', '2024-12-13T19:00:00', '', 'EST'], ['Oberlin College', 'ED', '2024-12-13T19:00:00', '', 'EST'], ['Tufts University', 'ED', '2024-12-13T19:00:00', '', 'EST'], ['Stanford University', 'REA/SCEA', '2024-12-13T19:00:00', '', 'EST'], ['Bowdoin College', 'ED', '2024-12-13T19:00:00', '', 'EST'], ['Swarthmore College', 'ED', '2024-12-13T19:00:00', '', 'EST'], ['Lewis and Clark College', 'EA', '2024-12-13T20:00:00', '', 'EST'], ['Washington and Lee', 'ED', '2024-12-13T20:00:00', '', 'EST'], ['Claremont McKenna College', 'ED', '2024-12-13T20:00:00', '', 'EST'], ['Barnard College', 'ED', '2024-12-14T00:00:00', 'In the evening (Eastern Time)', ''], ['Rensselaer Polytechnic Institute (RPI)', 'ED', '2024-12-14T00:00:00', '', ''], ['Connecticut College', 'ED', '2024-12-14T10:00:00', '', 'EST'], ['Davidson College', 'ED', '2024-12-14T10:00:00', '', 'EST'], ['Rice University', 'ED', '2024-12-14T10:00:00', '', 'EST'], ['Skidmore College', 'ED', '2024-12-14T10:00:00', '', 'EST'], ['Bates College', 'ED', '2024-12-14T12:00:00', '', 'EST'], ['Bentley University', 'ED', '2024-12-15T00:00:00', '', ''], ['University of Denver', 'EA', '2024-12-16T00:00:00', '', ''], ['George Mason University (GMU)', 'EA', '2024-12-16T00:00:00', '', ''], ['Lafayette College', 'ED', '2024-12-16T00:00:00', '', ''], ['George Washington University (GWU)', 'ED', '2024-12-16T00:00:00', 'In the evening (Eastern Time)', ''], ['Catholic University of America', 'ED EA', '2024-12-16T19:00:00', '', 'EST'], ['Duke University', 'ED', '2024-12-16T19:00:00', '', 'EST'], ['College of Charleston', 'EA', '2024-12-17T00:00:00', '', ''], ['Babson College', 'ED', '2024-12-17T00:00:00', '', ''], ['Spelman College', 'ED', '2024-12-17T00:00:00', '', ''], ['University of South Carolina', 'EA', '2024-12-17T00:00:00', 'In the evening (Eastern Time)', ''], ['Providence College', 'EA', '2024-12-17T00:00:00', 'In the evening (Eastern Time)', ''], ['Northwestern University', 'ED', '2024-12-17T00:00:00', 'Speculated time: 4pm ET', ''], ['University of Tennessee Knoxville (UTK)', 'EA', '2024-12-17T00:00:00', 'Out of state only, evening of', ''], ['Emerson College', 'ED', '2024-12-17T14:00:00', '', 'EST'], ['Yale University', 'REA/SCEA', '2024-12-17T17:00:00', '', 'EST'], ['Vanderbilt University', 'ED', '2024-12-17T18:00:00', '', 'EST'], ['Colorado College', 'EA', '2024-12-17T15:00:00', '', 'PST'], ['MIT', 'EA', '2024-12-17T18:28:00', '', 'EST'], ['University of Notre Dame', 'REA/SCEA', '2024-12-17T18:42:00', '', 'EST'], ['Trinity College', 'ED', '2024-12-17T19:00:00', '', 'EST'], ['UC Merced (UCM)', 'RD', '2024-12-18T00:00:00', 'Began rolling out', ''], ['Syracuse University', 'ED', '2024-12-18T00:00:00', '', ''], ['Loyola University Maryland', 'ED EA', '2024-12-18T15:00:00', '', 'EST'], ['Fairfield University', 'EA', '2024-12-18T18:00:00', '', 'EST'], ['Columbia University', 'ED', '2024-12-18T19:00:00', '', 'EST'], ['Texas Christian University (TCU)', 'EA', '2024-12-19T00:00:00', '', ''], ['Sarah Lawrence College (SLC)', 'EA', '2024-12-19T00:00:00', '', ''], ['Quinnipiac University (QU)', 'EA', '2024-12-19T00:00:00', 'Round 3/3', ''], ['Pepperdine University', 'EA', '2024-12-19T00:00:00', '', ''], ['University of Vermont (UVM)', 'EA', '2024-12-19T19:00:00', '', 'EST'], ['University of Pennsylvania (UPenn)', 'ED', '2024-12-19T19:00:00', '', 'EST'], ['Southern Methodist University (SMU)', 'EA', '2024-12-19T20:00:00', '', 'EST'], ['Case Western Reserve University (CWRU)', 'EA', '2024-12-19T20:00:00', '', 'EST'], ['University of Chicago (UChicago)', 'ED EA', '2024-12-20T00:00:00', 'Approx. 4:45 PM ET', ''], ['Macalester College', 'EA', '2024-12-21T00:00:00', '', ''], ['Tulane University', 'EA', '2024-12-23T12:00:00', '', 'EST'], ['Babson College', 'EA', '2025-01-08T16:00:00', '', 'EST'], ['UT Austin', 'EA', '2025-01-15T00:00:00', '', ''], ['Purdue University', 'EA', '2025-01-15T00:00:00', '', ''], ['University of Massachusetts Amherst (UMass)', 'EA', '2025-01-17T00:00:00', 'In the evening', ''], ['University of Southern California (USC)', 'EA', '2025-01-17T00:00:00', '', ''], ['Florida International University (FIU)', 'EA', '2025-01-22T00:00:00', 'Out of state students only', ''], ['Ohio State University (OSU)', 'EA', '2025-01-24T00:00:00', 'All non-Ohio residents and international applicants', ''], ['University of Florida (UF)', 'EA', '2025-01-24T18:00:00', '', 'EST'], ['Rensselaer Polytechnic Institute (RPI)', 'ED 2', '2025-01-25T00:00:00', '', ''], ['Macalester College', 'ED 2', '2025-01-26T00:00:00', '', ''], ['Georgia Tech', 'EA 2', '2025-01-31T00:00:00', 'Likely time: 7pm ET', ''], ['University of Illinois Urbana Champaign (UIUC)', 'EA', '2025-01-31T17:00:00', 'Date confirmed, time likely', 'EST'], ['Rensselaer Polytechnic Institute (RPI)', 'EA', '2025-02-01T00:00:00', '', ''], ['Emory University', 'ED 2', '2025-02-05T18:00:00', '', 'EST'], ['Bowdoin College', 'ED 2', '2025-02-07T19:00:00', '', 'EST'], ['Wellesley College', 'ED 2', '2025-02-08T10:00:00', '', 'EST'], ['Case Western Reserve University (CWRU)', 'ED 2', '2025-02-10T09:00:00', '', 'EST'], ['University of Vermont (UVM)', 'ED 2', '2025-02-12T00:00:00', '', ''], ['Florida State University (FSU)', 'RD', '2025-02-13T00:00:00', '', ''], ['Colorado College', 'ED 2', '2025-02-13T00:00:00', '', ''], ['Washington University in St. Louis (WashU)', 'ED 2', '2025-02-14T00:00:00', 'In the evening (Central Time)', ''], ['Johns Hopkins University (JHU)', 'ED 2', '2025-02-14T15:00:00', '', 'EST'], ['UT Austin', 'RD', '2025-02-15T00:00:00', '', ''], ['University of Virginia (UVA)', 'EA', '2025-02-15T00:00:00', 'By this date', ''], ['New York University (NYU)', 'ED 2', '2025-02-15T16:00:00', '', 'EST'], ['University of Illinois Urbana Champaign (UIUC)', 'RD', '2025-02-28T17:00:00', 'Date confirmed, time likely', 'EST'], ['University of Washington (UDub)', 'RD', '2025-03-15', '', 'Releases from March 1st thru the 15th'], ['University of Tennessee Knoxville (UTK)', 'RD', '2025-03-04T00:00:00', 'Evening of', ''], ['Ohio State University (OSU)', 'RD', '2025-03-07T00:00:00', '', ''], ['UC Davis (UCD)', 'RD', '2025-03-07T18:00:00', '', 'EST'], ['Georgia Tech', 'RD', '2025-03-07T19:00:00', 'Georgia students only', 'EST'], ['Rensselaer Polytechnic Institute (RPI)', 'RD', '2025-03-08T00:00:00', '', ''], ['Colorado College', 'RD', '2025-03-13T00:00:00', '', ''], ['University of Florida (UF)', 'RD', '2025-03-14T18:00:00', '', 'EST'], ['MIT', 'RD', '2025-03-14T18:28:00', '', 'EST'], ['Middlebury College', 'RD', '2025-03-15T08:00:00', '', 'EST'], ['Wellesley College', 'RD', '2025-03-15T10:00:00', '', 'EST'], ['Macalester College', 'RD', '2025-03-16T00:00:00', '', ''], ['UC Santa Barbara (UCSB)', 'RD', '2025-03-18T18:00:00', '', 'EST'], ['Amherst College', 'RD', '2025-03-20T18:21:00', '', 'EST'], ['Johns Hopkins University (JHU)', 'RD', '2025-03-21T15:00:00', '', 'EST'], ['UNC Chapel Hill', 'RD', '2025-03-21T16:00:00', '', 'EST'], ['University of Miami (UMiami)', 'RD', '2025-03-21T17:00:00', '', 'EST'], ['University of Virginia (UVA)', 'RD', '2025-03-21T17:00:00', '', 'EST'], ['Williams College', 'RD', '2025-03-21T18:00:00', '', 'EST'], ['Bowdoin College', 'RD', '2025-03-21T19:00:00', '', 'EST'], ['Swarthmore College', 'RD', '2025-03-21T19:00:00', '', 'EST'], ['UC San Diego (UCSD)', 'RD', '2025-03-21T19:30:00', '', 'EST'], ['UCLA', 'RD', '2025-03-21T20:00:00', '', 'EST'], ['Case Western Reserve University (CWRU)', 'RD', '2025-03-22T09:00:00', '', 'EST'], ['Emory University', 'RD', '2025-03-26T18:00:00', '', 'EST'], ['Barnard College', 'RD', '2025-03-26T19:00:00', '', 'EST'], ['UC Berkeley', 'RD', '2025-03-27T00:00:00', '', ''], ['Ivy Day', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Yale University', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['University of Pennsylvania (UPenn)', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Princeton University', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Harvard University', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Dartmouth College', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Columbia University', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Cornell University', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Brown University', 'RD', '2025-03-27T19:00:00', '', 'EST'], ['Georgia Tech', 'RD', '2025-03-28T19:00:00', 'Out of state students only', 'EST'], ['Stanford University', 'RD', '2025-03-28T19:00:00', '', 'EST'], ['Georgetown University', 'RD', '2025-04-01T00:00:00', '', ''], ['New York University (NYU)', 'RD', '2025-04-01T16:00:00', '', 'EST'], ['Johns Hopkins University (JHU)', 'Transfer', '2025-05-09T15:00:00', '', 'EST']];
import EachCountdown from "./EachCountdown";
import React, { useState } from 'react';

function formatDate(isoDate: string | number | Date) {
    const date = new Date(isoDate);
    return date.toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'short', // "Jan" instead of "January"
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit',
        hour12: true // 24-hour format
      }).replace(',', '');
}
const easternTime = new Date().toLocaleString("en-US", {timeZone: 'America/New_York'});
const easternTimeInMS = Date.parse(easternTime);
const passedDecisions: string[][] = [];
const decisions: string[][] = [];
for(let i=0; i<collegeDecisions.length; i++){
    const dater = new Date(collegeDecisions[i][2]);
    if(dater.getTime() - easternTimeInMS < -259200000){
        passedDecisions.push(collegeDecisions[i]);
    }else{
        decisions.push(collegeDecisions[i]);
    }
}
passedDecisions.reverse();

export default function CollegeTable() {
  const [isTableVisible, setIsTableVisible] = useState(false);
  return (
    <>
    <div className= "relative rounded-xl overflow-auto pb-2 shadow-lg">
    <table className="border-collapse table-fixed w-full text-md">
        <thead className="text-sm text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr className = "border-b dark:border-slate-600 font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">
                <th className="">College Name</th>
                <th className="">Decision Type</th>
                <th className="">Release Date</th>
                <th className="text-red-500">Countdown</th>
            </tr>
        </thead>
        <tbody className = "bg-white dark:bg-slate-800">
            {decisions.map((eachElement, index) => (
                <tr key={index} className="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 pressable">
                    <td>{eachElement[0]}</td>
                    <td>
                    {eachElement[1]} {eachElement[3] !== "" && ` (${eachElement[3]})`}</td>
                    <td>{formatDate(eachElement[2])} {eachElement[4]}</td>
                    <td> 
                        <EachCountdown tilThisDate={eachElement[2]} />
                    </td>
                </tr>
            ))}
        </tbody>
    </table>
    </div>
    <h5 className="text-lg font-bold text-red-400 hover:text-gray-400" onClick={() => {setIsTableVisible(!isTableVisible)}}>Click to See Past College Deadlines</h5>
    {isTableVisible ? 
    <div className= "relative rounded-xl overflow-auto py-4 shadow-lg">
    <table className="border-collapse table-fixed w-full text-md">
        <thead className="text-sm text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr className = "border-b dark:border-slate-600 font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">
                <th className="">College Name</th>
                <th className="">Decision Type</th>
                <th className="">Release Date</th>
            </tr>
        </thead>
        <tbody className = "bg-white dark:bg-slate-800">
            {passedDecisions.map((eachElement, index) => (
                <tr key={index} className="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                    <td>{eachElement[0]}</td>
                    <td>
                    {eachElement[1]} {eachElement[3] !== "" && ` (${eachElement[3]})`}</td>
                    <td>{formatDate(eachElement[2])} {eachElement[4]}</td>
                </tr>
            ))}
        </tbody>
    </table>
    </div> : <></>}
    </>
      );
}
